{
  "openapi": "3.0.3",
  "info": {
    "title": "NUSD Wallet API",
    "version": "v2"
  },
  "components": {
    "securitySchemes": {
      "BizApiKey": {
        "type": "apiKey",
        "in": "header",
        "name": "BIZ-API-KEY",
        "description": "API Key，请求需在请求头中携带。"
      },
      "BizApiNonce": {
        "type": "apiKey",
        "in": "header",
        "name": "Biz-Api-Nonce",
        "description": "时间戳，请求需在请求头中携带。"
      },
      "BizApiSignature": {
        "type": "apiKey",
        "in": "header",
        "name": "Biz-Api-Signature",
        "description": "签名串，请求需在请求头中携带。"
      },
      "AUTHORIZATION": {
        "type": "apiKey",
        "in": "header",
        "name": "Authorization",
        "description": "Bearer token，请求需在请求头中携带。"
      }
    },
    "schemas": {
      "CreateAddressesRequest": {
        "type": "object",
        "required": [
          "chain_id",
          "count"
        ],
        "properties": {
          "chain_id": {
            "type": "string",
            "description": "链 ID，区块链的唯一标识。\n 可用选项 \n - ETH: EVM钱包 \n - TRON: TRON钱包"
          },
          "count": {
            "type": "integer",
            "description": "要生成的地址数量。允许范围：1 ≤ count ≤ 50。",
            "minimum": 1,
            "maximum": 50,
            "default": 1,
            "example": 1
          },
          "taproot_script_tree_hashes": {
            "type": "array",
            "description": "用于生成 Tweaked Taproot 地址的脚本树哈希列表。仅在生成 Tweaked Taproot 地址时必填。",
            "items": {
              "type": "string"
            }
          },
          "taproot_internal_address": {
            "type": "string",
            "description": "原始（未调整）Taproot 地址。仅在生成 Tweaked Taproot 地址时必填。",
            "example": "3JWy6ta57t9Y7y1UfVPgpmrL2wLz6yocC"
          },
          "encoding": {
            "type": "string",
            "description": "地址编码格式（仅适用于与比特币类似的链）。",
            "enum": [
              "ENCODING_P2PKH",
              "ENCODING_P2SH_P2WPKH",
              "ENCODING_BECH32",
              "ENCODING_P2PKH_UNCOMPRESSED",
              "ENCODING_P2SH_P2WSH_P2MS",
              "ENCODING_P2SH_P2SH_P2MS",
              "ENCODING_P2TR",
              "ENCODING_ADA_BYRON",
              "ENCODING_ADA_SHELLEY",
              "ENCODING_DEFAULT"
            ],
            "example": "ENCODING_P2PKH"
          }
        }
      },
      "CreateAddressesResponse": {
        "type": "object",
        "description": "请求成功时返回的数据。",
        "properties": {
          "data": {
            "type": "array",
            "description": "生成的地址对象列表。",
            "items": {
              "type": "object",
              "required": [
                "address",
                "chain_id"
              ],
              "properties": {
                "address": {
                  "type": "string",
                  "description": "钱包地址。",
                  "example": "0x1000000000000000000000000000000000000000"
                },
                "chain_id": {
                  "type": "string",
                  "description": "链 ID。",
                  "example": "ETH"
                },
                "memo": {
                  "type": "string",
                  "description": "地址备注/标签（如适用）。",
                  "example": "82340924"
                },
                "path": {
                  "type": "string",
                  "description": "地址的派生路径（仅适用于 MPC 钱包）。",
                  "example": "m/44/60/20/0"
                },
                "encoding": {
                  "type": "string",
                  "description": "地址编码格式（仅适用于与比特币类似的链）。",
                  "enum": [
                    "ENCODING_P2PKH",
                    "ENCODING_P2SH_P2WPKH",
                    "ENCODING_BECH32",
                    "ENCODING_P2PKH_UNCOMPRESSED",
                    "ENCODING_P2SH_P2WSH_P2MS",
                    "ENCODING_P2SH_P2SH_P2MS",
                    "ENCODING_P2TR",
                    "ENCODING_ADA_BYRON",
                    "ENCODING_ADA_SHELLEY",
                    "ENCODING_DEFAULT"
                  ],
                  "example": "ENCODING_P2PKH"
                },
                "pubkey": {
                  "type": "string",
                  "description": "地址的公钥（仅适用于 MPC 钱包）。",
                  "example": "tpubl4EqF1Ex3U4NpGi/0nWzA7Z7E5tPS7QW9Fwa8EsN9eJkpwAQCpJQ2-pro1Bidz1QnTSBounJ3AzFz0PB2A9sFy7YTeN2Qz4A9eYF7HLEH"
                },
                "x_only_pubkey": {
                  "type": "string",
                  "description": "32 字节 x-only 公钥（十六进制，针对 Taproot）。",
                  "example": "9b451e62f24e0ce2ddd64e0a6b0f7900003b59a0f164af7235c21fc47a281945"
                },
                "root_pubkey": {
                  "type": "string",
                  "description": "该地址的根公钥（仅适用于 MPC 钱包）。",
                  "example": "xpub6cjm9MfAbaPq6sRLVP5GiJvQME90ysuuqE27f9S0wiqz2FSWQC1kTXjqwo-EXgL2v7W96QXjQWgN9hKRrr1UEKEndwzrHwcP2uMmrLzG7e"
                },
                "taproot_script_tree_hash": {
                  "type": "string",
                  "description": "新地址对应的 Taproot 脚本树哈希（用于 Tweaked Taproot 信息）。",
                  "example": "0x138df60fc5b336455553c776c25924ea70bc74b1b27aa46e4b-d9f464d19f5f0"
                },
                "taproot_internal_address": {
                  "type": "string",
                  "description": "Tweaked 前的 Taproot 内部地址（原始地址）。",
                  "example": "3JWy6ta57t9Y7y1UfVPgpmrL2wLz6yocC"
                }
              }
            }
          }
        }
      },
      "TransactionResponse": {
        "type": "object",
        "required": [
          "transaction_id",
          "wallet_id",
          "chain_id",
          "status",
          "created_timestamp"
        ],
        "properties": {
          "transaction_id": {
            "type": "string",
            "description": "交易 ID。",
            "example": "aff0e1cb-15b2-4e1f-9b9d-a9133715986f"
          },
          "wallet_id": {
            "type": "string",
            "description": "钱包 ID, 对于充值交易，此属性表示交易目标的钱包 ID。对于其他类型的交易，此属性表示交易源的钱包 ID。"
          },
          "chain_id": {
            "type": "string",
            "description": "链 ID。",
            "example": "ETH"
          },
          "status": {
            "type": "string",
            "description": "交易状态，详细信息可查看 [交易状态说明](/pages/status)。",
            "enum": [
              "Submitted",
              "PendingScreening",
              "PendingAuthorization",
              "PendingSignature",
              "Broadcasting",
              "Confirming",
              "Completed",
              "Failed",
              "Rejected",
              "Pending"
            ]
          },
          "source": {
            "type": "object",
            "description": "发送方详情",
            "properties": {}
          },
          "asset_id": {
            "type": "string",
            "description": "交易涉及的资产 ID。",
            "example": "USDT"
          },
          "amount": {
            "type": "string",
            "description": "交易金额。",
            "example": "0.12345"
          },
          "fee": {
            "type": "string",
            "description": "交易费用。",
            "example": "0.001"
          },
          "memo": {
            "type": "string",
            "description": "交易备注。",
            "example": "Invoice #12345"
          },
          "type": {
            "type": "string",
            "description": "交易类型。例如 Transfer、Deposit、Withdraw、Fee 等。",
            "example": "Transfer"
          },
          "direction": {
            "type": "string",
            "description": "交易方向。可选值：Incoming、Outgoing。",
            "example": "Outgoing"
          },
          "confirmations": {
            "type": "integer",
            "description": "确认数。",
            "example": 12
          },
          "required_confirmations": {
            "type": "integer",
            "description": "所需确认数。",
            "example": 20
          },
          "block_hash": {
            "type": "string",
            "description": "区块哈希。",
            "example": "0xabc123..."
          },
          "block_height": {
            "type": "integer",
            "description": "区块高度。",
            "example": 12345678
          },
          "tx_hash": {
            "type": "string",
            "description": "交易哈希。",
            "example": "0xf2a1..."
          },
          "from_address": {
            "type": "string",
            "description": "交易来源地址。",
            "example": "0x111..."
          },
          "to_address": {
            "type": "string",
            "description": "交易目标地址。",
            "example": "0x222..."
          },
          "created_timestamp": {
            "type": "integer",
            "description": "交易创建时间戳（毫秒）。",
            "example": 1718587017026
          },
          "updated_timestamp": {
            "type": "integer",
            "description": "交易最后更新时间戳（毫秒）。",
            "example": 1718589020000
          }
        }
      },
      "WebhookEvent": {
        "type": "object",
        "properties": {
          "event_id": {
            "type": "string",
            "description": "Webhook 事件的类型id"
          },
          "url": {
            "type": "string",
            "description": "Webhook 事件的 URL。",
            "example": "https://apidev.nusd.me/webhooks/real"
          },
          "created_timestamp": {
            "type": "integer",
            "description": "事件发生的时间戳",
            "example": 1718589000000
          },
          "data": {
            "type": "object",
            "description": "事件数据",
            "properties": {
              "data_type": {
                "type": "string",
                "description": "Webhook 事件的数据类型。暂时只需关注 **Transaction**类型"
              },
              "type": {
                "type": "string",
                "description": "Webhook 事件的类型，目前只需关注 **Deposit**"
              },
              "status": {
                "type": "string",
                "description": "Webhook 事件对应的交易状态，为 **Completed** 时，充值成功到账",
                "enum": [
                  "Submitted",
                  "PendingScreening",
                  "PendingAuthorization",
                  "PendingSignature",
                  "Broadcasting",
                  "Confirming",
                  "Completed",
                  "Failed",
                  "Rejected",
                  "Pending"
                ]
              },
              "initiator_type": {
                "type": "string",
                "description": "Webhook 事件的触发方式，忽略"
              },
              "transaction_id": {
                "type": "string",
                "description": "Webhook 事件对应的交易 ID。",
                "example": "aff0e1cb-15b2-4e1f-9b9d-a9133715986f"
              },
              "wallet_id": {
                "type": "string",
                "description": "Webhook 事件对应的钱包 ID。",
                "example": "wallet_id"
              },
              "source": {
                "type": "object",
                "description": "充值来源",
                "properties": {
                  "source_type": {
                    "type": "string",
                    "description": "充值来源类型，用户充值时，需要关注 **DepositFromAddress**",
                    "enum": [
                      "Asset",
                      "Web3",
                      "Org-Controlled",
                      "User-Controlled",
                      "Safe{Wallet}",
                      "Main",
                      "Sub",
                      "DepositFromAddress",
                      "DepositFromWallet",
                      "DepositFromLoop"
                    ]
                  },
                  "wallet_id": {
                    "type": "string",
                    "description": "充值来源钱包 ID，忽略"
                  },
                  "wallet_type": {
                    "type": "string",
                    "description": "钱包类型，忽略"
                  },
                  "addresses": {
                    "type": "array",
                    "description": "充值来源地址列表，一般只有一个数据 (用户自己的地址，忽略)",
                    "items": {
                      "type": "string"
                    }
                  },
                  "included_utxos": {
                    "type": "object",
                    "description": "忽略",
                    "additionalProperties": true
                  },
                  "excluded_utxos": {
                    "type": "object",
                    "description": "忽略",
                    "additionalProperties": true
                  }
                }
              },
              "destination": {
                "type": "object",
                "description": "充值目标",
                "properties": {
                  "destination_type": {
                    "type": "string",
                    "description": "充值目标类型，用户充值时，需要关注 **DepositToAddress**",
                    "enum": [
                      "Address",
                      "CustodialWallet",
                      "ExchangeWallet",
                      "EVM_Contract",
                      "SOL_Contract",
                      "COSMOS_Contract",
                      "EVM_EIP_191_Signature",
                      "EVM_EIP_712_Signature",
                      "BTC_BIP_137_Signature",
                      "BTC_BIP_322_Signature",
                      "COSMOS_ADR_36_Signature",
                      "Raw_Message_Signature",
                      "DepositToAddress",
                      "DepositToWallet"
                    ]
                  },
                  "wallet_id": {
                    "type": "string",
                    "description": "充值目标钱包 ID，忽略"
                  },
                  "wallet_type": {
                    "type": "string",
                    "description": "目标钱包类型，忽略"
                  },
                  "wallet_subtype": {
                    "type": "string",
                    "description": "目标钱包子类型，忽略"
                  },
                  "address": {
                    "type": "string",
                    "description": "充值目标地址 (由api生成的地址)"
                  },
                  "amount": {
                    "type": "string",
                    "description": "用户充值的数量，单位为 data.token_id"
                  },
                  "memo": {
                    "type": "string",
                    "description": "忽略"
                  }
                }
              },
              "request_id": {
                "type": "string",
                "description": "用于跟踪交易请求的请求 ID。"
              },
              "created_timestamp": {
                "type": "integer",
                "description": "事件发生的时间戳（毫秒）。",
                "example": 1701396866000
              },
              "updated_timestamp": {
                "type": "integer",
                "description": "事件更新的时间戳（毫秒）。",
                "example": 1701396866000
              },
              "sub_status": {
                "type": "string",
                "description": "Webhook 事件的子状态，忽略"
              },
              "chain_id": {
                "type": "string",
                "description": "链 ID，即区块链的唯一标识符。",
                "example": "ETH"
              },
              "token_id": {
                "type": "string",
                "description": "代币 ID，即代币的唯一标识符。",
                "example": "ETH_USDT"
              },
              "asset_id": {
                "type": "string",
                "description": "（此概念仅适用于交易所钱包）资产 ID。资产 ID 是关联交易所账户中持有资产的唯一标识符。",
                "example": "USDT"
              },
              "result": {
                "type": "object",
                "description": "忽略",
                "additionalProperties": true
              },
              "fee": {
                "type": "object",
                "description": "忽略",
                "additionalProperties": true
              },
              "initiator": {
                "type": "string",
                "description": "忽略"
              },
              "confirmed_num": {
                "type": "integer",
                "description": "已确认次数。",
                "example": 10
              },
              "confirming_threshold": {
                "type": "integer",
                "description": "交易最低确认次数",
                "example": 12
              },
              "transaction_hash": {
                "type": "string",
                "description": "交易哈希"
              },
              "block_info": {
                "type": "object",
                "description": "交易区块信息，忽略",
                "additionalProperties": true
              },
              "raw_tx_info": {
                "type": "object",
                "description": "原始交易信息，忽略",
                "additionalProperties": true
              },
              "replacement": {
                "type": "object",
                "description": "忽略",
                "additionalProperties": true
              },
              "category": {
                "type": "string",
                "description": "交易类别，忽略"
              },
              "description": {
                "type": "string",
                "description": "交易描述，忽略"
              }
            }
          }
        }
      },
      "TransactionsListRes": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "description": "事件数据",
            "properties": {
              "transaction_id": {
                "type": "string",
                "description": "交易 ID。",
                "example": "aff0e1cb-15b2-4e1f-9b9d-a9133715986f"
              },
              "wallet_id": {
                "type": "string",
                "description": "钱包 ID。"
              },
              "status": {
                "type": "string",
                "description": "交易状态，为 **Completed** 时，充值成功到账",
                "enum": [
                  "Submitted",
                  "PendingScreening",
                  "PendingAuthorization",
                  "PendingSignature",
                  "Broadcasting",
                  "Confirming",
                  "Completed",
                  "Failed",
                  "Rejected",
                  "Pending"
                ]
              },
              "type": {
                "type": "string",
                "description": "事件类型， **Deposit** 为充值",
                "enum": [
                  "Deposit",
                  "Withdrawal",
                  "ContractCall",
                  "MessageSign",
                  "ExternalSafeTx",
                  "Stake",
                  "Unstake"
                ]
              },
              "source": {
                "type": "object",
                "description": "充值来源",
                "properties": {
                  "source_type": {
                    "type": "string",
                    "description": "充值来源类型，用户充值时，需要关注 **DepositFromAddress**",
                    "enum": [
                      "Asset",
                      "Web3",
                      "Org-Controlled",
                      "User-Controlled",
                      "Safe{Wallet}",
                      "Main",
                      "Sub",
                      "DepositFromAddress",
                      "DepositFromWallet",
                      "DepositFromLoop"
                    ]
                  },
                  "wallet_id": {
                    "type": "string",
                    "description": "充值来源钱包 ID，忽略"
                  },
                  "wallet_type": {
                    "type": "string",
                    "description": "钱包类型，忽略"
                  },
                  "addresses": {
                    "type": "array",
                    "description": "充值来源地址列表，一般只有一个数据 (用户自己的地址，忽略)",
                    "items": {
                      "type": "string"
                    }
                  },
                  "included_utxos": {
                    "type": "object",
                    "description": "忽略",
                    "additionalProperties": true
                  },
                  "excluded_utxos": {
                    "type": "object",
                    "description": "忽略",
                    "additionalProperties": true
                  }
                }
              },
              "destination": {
                "type": "object",
                "description": "充值目标",
                "properties": {
                  "destination_type": {
                    "type": "string",
                    "description": "充值目标类型，用户充值时，需要关注 **DepositToAddress**",
                    "enum": [
                      "Address",
                      "CustodialWallet",
                      "ExchangeWallet",
                      "EVM_Contract",
                      "SOL_Contract",
                      "COSMOS_Contract",
                      "EVM_EIP_191_Signature",
                      "EVM_EIP_712_Signature",
                      "BTC_BIP_137_Signature",
                      "BTC_BIP_322_Signature",
                      "COSMOS_ADR_36_Signature",
                      "Raw_Message_Signature",
                      "DepositToAddress",
                      "DepositToWallet"
                    ]
                  },
                  "wallet_id": {
                    "type": "string",
                    "description": "充值目标钱包 ID，忽略"
                  },
                  "wallet_type": {
                    "type": "string",
                    "description": "目标钱包类型，忽略"
                  },
                  "wallet_subtype": {
                    "type": "string",
                    "description": "目标钱包子类型，忽略"
                  },
                  "address": {
                    "type": "string",
                    "description": "充值目标地址 (由api生成的地址)"
                  },
                  "amount": {
                    "type": "string",
                    "description": "用户充值的数量，单位为 data.token_id"
                  },
                  "memo": {
                    "type": "string",
                    "description": "忽略"
                  }
                }
              },
              "request_id": {
                "type": "string",
                "description": "用于跟踪交易请求的请求 ID。"
              },
              "created_timestamp": {
                "type": "integer",
                "description": "事件发生的时间戳（毫秒）。",
                "example": 1701396866000
              },
              "updated_timestamp": {
                "type": "integer",
                "description": "事件更新的时间戳（毫秒）。",
                "example": 1701396866000
              },
              "chain_id": {
                "type": "string",
                "description": "链 ID，即区块链的唯一标识符。",
                "example": "ETH"
              },
              "token_id": {
                "type": "string",
                "description": "代币 ID，即代币的唯一标识符。",
                "example": "ETH_USDT"
              },
              "asset_id": {
                "type": "string",
                "description": "（此概念仅适用于交易所钱包）资产 ID。资产 ID 是关联交易所账户中持有资产的唯一标识符。",
                "example": "USDT"
              },
              "result": {
                "type": "object",
                "description": "忽略",
                "additionalProperties": true
              },
              "fee": {
                "type": "object",
                "description": "忽略",
                "additionalProperties": true
              },
              "initiator": {
                "type": "string",
                "description": "忽略"
              },
              "confirmed_num": {
                "type": "integer",
                "description": "已确认次数。",
                "example": 10
              },
              "confirming_threshold": {
                "type": "integer",
                "description": "交易最低确认次数",
                "example": 12
              },
              "transaction_hash": {
                "type": "string",
                "description": "交易哈希"
              },
              "block_info": {
                "type": "object",
                "description": "交易区块信息，忽略",
                "additionalProperties": true
              },
              "raw_tx_info": {
                "type": "object",
                "description": "原始交易信息，忽略",
                "additionalProperties": true
              },
              "replacement": {
                "type": "object",
                "description": "忽略",
                "additionalProperties": true
              },
              "category": {
                "type": "string",
                "description": "交易类别，忽略"
              },
              "description": {
                "type": "string",
                "description": "交易描述，忽略"
              }
            }
          }
        }
      },
      "Pagination": {
        "type": "object",
        "properties": {
          "pagination_before": {
            "type": "string",
            "description": "上一页游标（用于获取更早的事件）。为空时表示已经到达起点。",
            "example": "eyJpZCI6IjEyMyJ9"
          },
          "pagination_after": {
            "type": "string",
            "description": "下一页游标（用于获取更新的事件）。为空时表示已经到达终点。",
            "example": "eyJpZCI6IjQ1NiJ9"
          },
          "pagination_total_count": {
            "type": "integer",
            "description": "匹配当前查询条件的总记录数，可能会因为过滤参数（例如 before/after/limit）而变化。",
            "example": 10000
          }
        }
      },
      "TokensRes": {
        "type": "object",
        "properties": {
          "state": {
            "type": "integer",
            "description": "状态码，0 表示成功。",
            "example": 0
          },
          "data": {
            "type": "object",
            "description": "币种列表",
            "properties": {
              "total": {
                "type": "integer",
                "description": "币种总数量"
              },
              "tokens": {
                "type": "array",
                "description": "币种列表",
                "items": {
                  "type": "object",
                  "properties": {
                    "chain_id": {
                      "type": "string",
                      "description": "币种所属的链",
                      "example": "ARBITRUM_ETH"
                    },
                    "token_id": {
                      "type": "string",
                      "description": "币种唯一标识",
                      "example": "ARBITRUM_USDT"
                    },
                    "symbol": {
                      "type": "string",
                      "description": "币种名称",
                      "example": "USDT"
                    },
                    "can_deposit": {
                      "type": "boolean",
                      "description": "币种是否开放充值",
                      "example": true
                    },
                    "can_withdraw": {
                      "type": "boolean",
                      "description": "币种是否开放提现",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "msg": {
            "type": "string",
            "description": "错误消息，state非0时存在"
          }
        }
      },
      "ChainRes": {
        "type": "object",
        "properties": {
          "state": {
            "type": "integer",
            "description": "状态码，0 表示成功。",
            "example": 0
          },
          "data": {
            "type": "object",
            "description": "链列表",
            "properties": {
              "total": {
                "type": "integer",
                "description": "链总数量"
              },
              "chains": {
                "type": "array",
                "description": "链列表",
                "items": {
                  "type": "object",
                  "properties": {
                    "chain_id": {
                      "type": "string",
                      "description": "链id，唯一",
                      "example": "BASE_ETH"
                    },
                    "rpc": {
                      "type": "string",
                      "description": "rpc地址",
                      "example": "https://mainnet.base.org"
                    },
                    "status": {
                      "type": "integer",
                      "description": "是否启用\n\n 1: 启用\n 2: 禁用",
                      "example": 1
                    },
                    "create_at": {
                      "type": "string",
                      "description": "交易创建时间（ISO 8601）。",
                      "example": "2025-10-21T08:49:34.369Z"
                    },
                    "update_at": {
                      "type": "string",
                      "description": "交易最后更新时间戳（ISO 8601）。",
                      "example": "2025-10-21T08:49:34.369Z"
                    }
                  }
                }
              }
            }
          },
          "msg": {
            "type": "string",
            "description": "错误消息，state非0时存在"
          }
        }
      },
      "BalanceRes": {
        "type": "object",
        "properties": {
          "state": {
            "type": "integer",
            "description": "状态码，0 表示成功。",
            "example": 0
          },
          "data": {
            "type": "object",
            "description": "余额信息",
            "properties": {
              "available": {
                "type": "string",
                "format": "float",
                "description": "当前可用余额",
                "example": "4895.90"
              },
              "hold": {
                "type": "string",
                "format": "float",
                "description": "当前冻结金额",
                "example": "4895.90"
              }
            }
          },
          "msg": {
            "type": "string",
            "description": "错误消息，state非0时存在"
          }
        }
      },
      "FeesRes": {
        "type": "object",
        "properties": {
          "state": {
            "type": "integer",
            "description": "状态码，0 表示成功。",
            "example": 0
          },
          "data": {
            "type": "object",
            "description": "费用详情",
            "properties": {
              "deposit": {
                "type": "string",
                "format": "float",
                "description": "充值收取的服务费，乘100后为百分比",
                "example": "0.01"
              },
              "settle": {
                "type": "string",
                "format": "integer",
                "description": "结算费用，固定值，单位为USD",
                "example": "5"
              },
              "withdraw": {
                "type": "string",
                "format": "integer",
                "description": "提现收取的服务费，乘100后为百分比",
                "example": "0.01"
              }
            }
          },
          "msg": {
            "type": "string",
            "description": "错误消息，state非0时存在"
          }
        }
      },
      "WithdrawReq": {
        "type": "object",
        "required": [
          "request_id",
          "wallet_id",
          "to",
          "amount",
          "chain_id",
          "token_id"
        ],
        "properties": {
          "request_id": {
            "type": "string",
            "description": "请求方的id，需要唯一",
            "example": "d8551182-0aee-4346-929e-05c99081352a"
          },
          "wallet_id": {
            "type": "string",
            "description": "提币的钱包id",
            "example": "e9167870-e18b-4e82-8b87-92ec7ede8e45"
          },
          "to": {
            "type": "string",
            "description": "提币至的地址",
            "example": "0xdc2e6b357766aa4b66f41dc29598379ce7d61d46"
          },
          "amount": {
            "type": "number",
            "format": "float",
            "description": "提币数量",
            "example": "10.08"
          },
          "chain_id": {
            "type": "string",
            "description": "链 ID",
            "example": "BASE_ETH"
          },
          "token_id": {
            "type": "string",
            "description": "币种唯一标识",
            "example": "BASE_USDT"
          },
          "payer": {
            "type": "string",
            "description": "手续费承担方，默认为用户承担 \n - App: 项目方承担 \n - User: 用户承担",
            "example": "App"
          }
        }
      },
      "WithdrawRes": {
        "type": "object",
        "properties": {
          "state": {
            "type": "integer",
            "description": "状态码，0 表示成功。",
            "example": 0
          },
          "data": {
            "type": "object",
            "description": "提币详情",
            "properties": {
              "transaction_id": {
                "type": "string",
                "description": "此次提币的交易id",
                "example": "28f2505c-55ab-4fc7-8620-152c4045981a"
              },
              "request_id": {
                "type": "string",
                "description": "此次提币的请求id",
                "example": "9bfa5014-2f12-4eb8-b979-3cf8cb947b45"
              }
            }
          },
          "msg": {
            "type": "string",
            "description": "错误消息，state非0时存在"
          }
        }
      },
      "WithdrawListRes": {
        "type": "object",
        "properties": {
          "state": {
            "type": "integer",
            "description": "状态码，0 表示成功。",
            "example": 0
          },
          "data": {
            "type": "object",
            "description": "交易列表",
            "properties": {
              "total": {
                "type": "integer",
                "description": "数据总条数"
              },
              "txs": {
                "type": "array",
                "description": "交易列表",
                "items": {
                  "type": "object",
                  "properties": {
                    "transaction_id": {
                      "type": "string",
                      "description": "交易id",
                      "example": "b02dc125-cf75-4487-a5b4-b350ced7e78c"
                    },
                    "wallet_id": {
                      "type": "string",
                      "description": "钱包id",
                      "example": "e9167870-e18b-4e82-8b87-92ec7ede8e45"
                    },
                    "chain_id": {
                      "type": "string",
                      "description": "链 ID",
                      "example": "BASE_ETH"
                    },
                    "token_id": {
                      "type": "string",
                      "description": "币种唯一标识",
                      "example": "BASE_USDT"
                    },
                    "to": {
                      "type": "string",
                      "description": "提币的到账地址",
                      "example": "0xdc2e6b357766aa4b66f41dc29598379ce7d61d46"
                    },
                    "type": {
                      "type": "string",
                      "description": "交易类型",
                      "example": "Withdrawal"
                    },
                    "status": {
                      "type": "string",
                      "description": "交易状态",
                      "example": "Completed"
                    },
                    "amount": {
                      "type": "string",
                      "format": "float",
                      "description": "提币数量",
                      "example": "10"
                    },
                    "fee_ratio": {
                      "type": "string",
                      "format": "float",
                      "description": "服务费收取比例 (0.01 表示 1%)",
                      "example": "0.01"
                    },
                    "fee": {
                      "type": "string",
                      "format": "float",
                      "description": "实际收取的手续费",
                      "example": "0.10"
                    },
                    "amount_actual": {
                      "type": "string",
                      "format": "float",
                      "description": "实际到账数量",
                      "example": "9.9"
                    },
                    "hash": {
                      "type": "string",
                      "description": "交易哈希",
                      "example": "0x14cee980709d85f8f0571b8e0a2e737bc346003fbe533b80e70dda0793a10ca3"
                    },
                    "payer": {
                      "type": "string",
                      "description": "手续费支付方",
                      "example": "User"
                    },
                    "created_at": {
                      "type": "string",
                      "description": "交易创建时间（ISO 8601）。",
                      "example": "2025-10-21T08:49:34.369Z"
                    },
                    "updated_at": {
                      "type": "string",
                      "description": "交易最后更新时间戳（ISO 8601）。",
                      "example": "2025-10-21T08:49:34.369Z"
                    }
                  }
                }
              }
            }
          },
          "msg": {
            "type": "string",
            "description": "错误消息，state非0时存在"
          }
        }
      },
      "AddressReq": {
        "type": "object",
        "required": [
          "wallet_id",
          "chain_id",
          "user_token"
        ],
        "properties": {
          "wallet_id": {
            "type": "string",
            "description": "钱包id",
            "example": "e9167870-e18b-4e82-8b87-92ec7ede8e45"
          },
          "chain_id": {
            "type": "string",
            "description": "链 ID",
            "example": "BASE_ETH"
          },
          "user_token": {
            "type": "string",
            "description": "App内的用户id或token",
            "example": "1234-5678-0000"
          }
        }
      },
      "AddressRes": {
        "type": "object",
        "properties": {
          "state": {
            "type": "integer",
            "description": "状态码，0 表示成功。",
            "example": 0
          },
          "data": {
            "type": "object",
            "description": "用户充值地址详情",
            "properties": {
              "user_token": {
                "type": "string",
                "description": "App内的用户id或token",
                "example": "1234-5678-0000"
              },
              "chain_id": {
                "type": "string",
                "description": "地址所属的链ID",
                "example": "BASE_ETH"
              },
              "address": {
                "type": "string",
                "description": "用户的充值地址",
                "example": "0xdc2e6b357766aa4b66f41dc29598379ce7d61d46"
              },
              "memo": {
                "type": "string",
                "description": "地址的备注信息 (EVM和Tron链上地址此字段为空)",
                "example": "12345678"
              }
            }
          },
          "msg": {
            "type": "string",
            "description": "错误消息，state非0时存在"
          }
        }
      }
    }
  },
  "paths": {
    "/v2/wallets/{wallet_id}/addresses": {
      "post": {
        "tags": [
          "Addresses"
        ],
        "operationId": "createAddressesInWallet",
        "summary": "在钱包内生成地址",
        "description": "在指定钱包内一次生成一个或多个地址。支持生成 Taproot（含 Tweaked Taproot）等格式；MPC 钱包会返回派生路径、公钥等附加信息。",
        "security": [
          {
            "BizApiKey": [],
            "BizApiNonce": [],
            "BizApiSignature": []
          }
        ],
        "parameters": [
          {
            "name": "wallet_id",
            "in": "path",
            "required": true,
            "description": "钱包 ID。",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAddressesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "请求成功，返回生成的地址列表及相关信息。",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateAddressesResponse"
                }
              }
            }
          },
          "201": {
            "description": "请求成功，返回生成的地址列表及相关信息。",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateAddressesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/transactions/{transaction_id}": {
      "get": {
        "tags": [
          "Transactions"
        ],
        "operationId": "getTransactionInformation",
        "summary": "获取交易信息",
        "description": "获取指定交易的详细信息，例如交易状态、来源地址、目标地址、金额和手续费等。",
        "security": [
          {
            "BizApiKey": [],
            "BizApiNonce": [],
            "BizApiSignature": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "description": "交易 ID。",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "请求成功，返回交易详情。",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求错误。"
          },
          "401": {
            "description": "未授权。"
          },
          "403": {
            "description": "禁止访问。"
          },
          "404": {
            "description": "未找到指定的交易。"
          },
          "500": {
            "description": "服务器错误。"
          }
        }
      }
    },
    "/v2/webhooks/endpoints/{endpoint_id}/events": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "operationId": "listWebhookEvents",
        "summary": "列出所有 Webhook 事件",
        "description": "检索指定 webhook 在最近 30 天内发生的所有事件。",
        "security": [
          {
            "BizApiKey": [],
            "BizApiNonce": [],
            "BizApiSignature": []
          }
        ],
        "parameters": [
          {
            "name": "endpoint_id",
            "in": "path",
            "required": true,
            "description": "Webhook 的唯一 ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "description": "事件状态过滤器",
            "schema": {
              "type": "string",
              "enum": [
                "Success",
                "Failed",
                "Pending"
              ],
              "example": "Success"
            }
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "description": "Webhook 事件类型过滤器。暂时只需关注 **wallets.transaction.succeeded**，该type为充值成功",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "返回的最大记录数。大多数接口默认为 50，最大可到 500。",
            "schema": {
              "type": "integer",
              "default": 50,
              "example": 100
            }
          },
          {
            "name": "before",
            "in": "query",
            "required": false,
            "description": "游标，表示返回该游标之前的事件。为空表示到达起点。",
            "schema": {
              "type": "string",
              "example": "eyJpZCI6IjEyMyJ9"
            }
          },
          {
            "name": "after",
            "in": "query",
            "required": false,
            "description": "游标，表示返回该游标之后的事件。为空表示到达末尾。",
            "schema": {
              "type": "string",
              "example": "eyJpZCI6IjQ1NiJ9"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "请求成功，返回事件列表。",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "description": "Webhook 事件列表。",
                      "items": {
                        "$ref": "#/components/schemas/WebhookEvent"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/transactions": {
      "get": {
        "summary": "此操作将检索您组织下的所有交易。",
        "description": "您可以按请求 ID、交易 ID、交易哈希、类型、状态和时间戳筛选结果。您还可以对查询结果进行分页和排序。",
        "security": [
          {
            "BizApiKey": [],
            "BizApiNonce": [],
            "BizApiSignature": []
          }
        ],
        "parameters": [
          {
            "name": "wallet_ids",
            "in": "query",
            "description": "钱包 ID，以 **,** 分隔。",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "request_id",
            "in": "query",
            "required": false,
            "description": "用于跟踪交易请求的请求 ID。该请求 ID 由您提供，并且在您的组织内必须是唯一的。",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "transaction_ids",
            "in": "query",
            "required": false,
            "description": "交易 ID 列表，以 **,** 分隔。",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "transaction_hashes",
            "in": "query",
            "required": false,
            "description": "交易 hash 列表，以 **,** 分隔。",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "types",
            "in": "query",
            "required": false,
            "description": "交易类型列表，以 **,**  分隔。 目前只需关注 **Deposit**",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "description": "交易状态列表，以 **,**  分隔。 目前只需关注 **Completed**",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "chain_ids",
            "in": "query",
            "required": false,
            "description": "以 **,** 分隔的链 ID 列表。链 ID 是区块链的唯一标识符。",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "token_ids",
            "in": "query",
            "required": false,
            "description": "以 **,** 分隔的代币 ID 列表。代币 ID 是代币的唯一标识符。",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "返回的最大记录数。默认为 10，最大值为 50",
            "schema": {
              "type": "integer",
              "default": 10,
              "example": 10
            }
          },
          {
            "name": "min_created_timestamp",
            "in": "query",
            "required": false,
            "description": "交易创建时间，采用 Unix 时间戳格式，以毫秒为单位。您可以使用此参数筛选指定时间及之后创建的交易。\n\n如果未提供，则默认值为当前时间之前的 90 天。此默认值可能会有所变更。",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "max_created_timestamp",
            "in": "query",
            "required": false,
            "description": "交易创建时间，采用 Unix 时间戳格式，以毫秒为单位。您可以使用此参数筛选在指定时间或之前创建的交易。\n\n如果未提供，则默认值为当前时间。此默认值可能会有所变更。",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "before",
            "in": "query",
            "required": false,
            "description": "游标，表示返回该游标之前的事件。为空表示到达起点。",
            "schema": {
              "type": "string",
              "example": "eyJpZCI6IjEyMyJ9"
            }
          },
          {
            "name": "after",
            "in": "query",
            "required": false,
            "description": "游标，表示返回该游标之后的事件。为空表示到达末尾。",
            "schema": {
              "type": "string",
              "example": "eyJpZCI6IjQ1NiJ9"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "请求成功，返回事件列表。",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "description": "交易列表",
                      "items": {
                        "$ref": "#/components/schemas/TransactionsListRes"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          },
          "201": {
            "description": "请求成功，返回事件列表。",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "description": "交易列表",
                      "items": {
                        "$ref": "#/components/schemas/TransactionsListRes"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/nps/tokens": {
      "get": {
        "description": "获取所有支持的token",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页数",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "num",
            "in": "query",
            "description": "每页的条数",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "请求成功，返回币种数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokensRes"
                }
              }
            }
          },
          "201": {
            "description": "请求成功，返回币种数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokensRes"
                }
              }
            }
          }
        }
      }
    },
    "/nps/chains": {
      "get": {
        "description": "获取所有支持的链",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页数",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "num",
            "in": "query",
            "description": "每页的条数",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "请求成功，返回链数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChainRes"
                }
              }
            }
          },
          "201": {
            "description": "请求成功，返回链数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChainRes"
                }
              }
            }
          }
        }
      }
    },
    "/nps/fees": {
      "get": {
        "description": "获取平台服务费收取规则",
        "parameters": [],
        "responses": {
          "200": {
            "description": "请求成功，返回服务费数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeesRes"
                }
              }
            }
          },
          "201": {
            "description": "请求成功，返回服务费数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeesRes"
                }
              }
            }
          }
        }
      }
    },
    "/nps/withdraw": {
      "post": {
        "description": "发起提币请求",
        "security": [
          {
            "BizApiKey": [],
            "BizApiNonce": [],
            "BizApiSignature": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WithdrawReq"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "请求成功，返回提币交易id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WithdrawRes"
                }
              }
            }
          },
          "201": {
            "description": "请求成功，返回提币交易id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WithdrawRes"
                }
              }
            }
          }
        }
      }
    },
    "/nps/address": {
      "post": {
        "description": "获取用户的充值地址",
        "security": [
          {
            "BizApiKey": [],
            "BizApiNonce": [],
            "BizApiSignature": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddressReq"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "请求成功，返回提币交易id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddressRes"
                }
              }
            }
          },
          "201": {
            "description": "请求成功，返回提币交易id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddressRes"
                }
              }
            }
          }
        }
      }
    },
    "/nps/txs": {
      "get": {
        "description": "获取交易列表",
        "security": [
          {
            "BizApiKey": [],
            "BizApiNonce": [],
            "BizApiSignature": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "query",
            "description": "交易id",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "wallet_id",
            "in": "query",
            "description": "钱包id",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "交易类型\n\n 可用选项 \n - Deposit : 充币\n - Withdraw : 提币\n\n **传空字符串则返回所有交易**",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address",
            "in": "query",
            "description": "充值或提币接收方地址",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "当前提币状态\n\n 可用选项 \n - Processing : 待确认 \n - Approved : 审核通过 \n - Rejected : 审核被拒绝 \n - Cancelled : 已取消 \n - Completed : 已完成 \n - Failed : 失败",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页数",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "num",
            "in": "query",
            "description": "每页的条数",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "请求成功，返回交易数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WithdrawListRes"
                }
              }
            }
          },
          "201": {
            "description": "请求成功，返回交易数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WithdrawListRes"
                }
              }
            }
          }
        }
      }
    },
    "/nps/balance": {
      "get": {
        "description": "获取指定钱包的余额",
        "security": [
          {
            "BizApiKey": [],
            "BizApiNonce": [],
            "BizApiSignature": []
          }
        ],
        "parameters": [
          {
            "name": "wallet_id",
            "in": "query",
            "description": "钱包id",
            "required": true,
            "schema": {
              "type": "string",
              "example": "e9167870-e18b-4e82-8b87-92ec7ede8e45"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "请求成功，返回钱包余额",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BalanceRes"
                }
              }
            }
          },
          "201": {
            "description": "请求成功，返回钱包余额",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BalanceRes"
                }
              }
            }
          }
        }
      }
    }
  }
}