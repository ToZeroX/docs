---
title: 'API 签名'
---

## 计算 API 签名

以下步骤介绍如何计算 API 签名。

1. 首先，基于您的请求拼接出一个字符串，如下所示：


    str_to_sign = <code>\{METHOD\}|\{PATH\}|\{TIMESTAMP\}|\{PARAMS\}|\{BODY\}</code>

    | 字段      | 描述                                                                 | 示例                                                                 |
    |:-----------|:----------------------------------------------------------------------|:----------------------------------------------------------------------|
    | **METHOD**    | HTTP 方法。                                                          | `GET`                                                               |
    | **PATH**      | API 端点。                                                           | `/v2/transactions/transfer`                                         |
    | **TIMESTAMP** | 以毫秒为单位的当前 Unix 时间戳。该值必须与请求头中的随机数相同。     | `1718587017026`                                                     |
    | **PARAMS**    | 查询参数。                                                   | `chain_id=ETH&limit=10`                                             |
    | **BODY**      | 原始请求包体的字符串格式。                                   | `{"wallet_type":"Custodial"}`   |

    <Note>
      PARAMS和BODY字段是可选的，如果没有对应参数的话，留空字符串
    </Note>

2. 使用 <code>hashlib</code> 库对字符串进行两次 SHA-256 哈希，如下所示：

    ``` python
      import hashlib
      content_hash = hashlib.sha256(hashlib.sha256(str_to_sign.encode()).digest()).digest()
    ```

3. 使用 **API Secret** 对字符串进行签名，如下所示：

    ``` python
      from nacl.signing import SigningKey

      # 创建 Ed25519 签名密钥。将 `api_secret` 替换为您的 API Secret
      sk = SigningKey(bytes.fromhex(api_secret))
      # 签署哈希后的消息
      signature = sk.sign(content_hash).signature.hex()
    ```

现在您已经计算出了一个 API 签名。